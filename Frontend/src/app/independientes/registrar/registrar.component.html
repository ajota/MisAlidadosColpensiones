<div class="row justify-content-center">
  <div [ngClass]="{'col-6': !enModal, 'col-12': enModal}">
    <h3 *ngIf="!enModal">Formulario de registro de independientes. <br> <small class="text-muted "><i>Los campos con asterisco (<span class="text-danger">*</span>) son obligatorios.</i></small></h3><hr *ngIf="!enModal">
    <form [formGroup]="independientesForm" (ngSubmit)="alGuardarIndependiente()" novalidate>
      <div class="form-group"><!-- Datos Basicos -->
        <h5>Datos basicos:</h5>
        <div class="form-row">
          <div class="col">
            <label>Nombre(s): <span class="text-danger">*</span>
                <input type="text" id="msa-numeroDocumento" formControlName="Nombres" class="form-control">
                <div class="text-danger" *ngIf="!independientesForm.get('Nombres').valid && independientesForm.get('Nombres').touched">
                  Este campo es requerido.
                </div>
            </label>
          </div>
          <div class="col">
              <label>Apellido(s): <span class="text-danger">*</span>
                  <input type="text" id="msa-apellidos" formControlName="Apellidos" class="form-control">
                  <div class="text-danger" *ngIf="!independientesForm.get('Apellidos').valid && independientesForm.get('Apellidos').touched">
                    Este campo es requerido.
                  </div>
              </label>
          </div>
        </div>
        <div class="form-row">
            <div class="col">
              <label>Tipo de Documento <span class="text-danger">*</span>
                  <select formControlName="TipoDocumento" class="custom-select">
                      <option value="">Seleccione...</option>
                      <option value="{{tipoDocumento.IdDatoMaestro}}" *ngFor="let tipoDocumento of tiposDocumento$ | async">{{ tipoDocumento.NombreDato}}</option>
                  </select>
                  <div class="text-danger" *ngIf="!independientesForm.get('TipoDocumento').valid && independientesForm.get('TipoDocumento').touched">
                    Este campo es requerido.
                  </div>
              </label>
            </div>
            <div class="col">
                <label>Numero de Documento: <span class="text-danger">*</span>
                    <input type="text" id="msa-numeroDocumento" formControlName="NumeroDocumento" class="form-control">
                    <div class="text-danger" *ngIf="!independientesForm.get('NumeroDocumento').valid && independientesForm.get('NumeroDocumento').touched">
                      Este campo es requerido.
                    </div>
                </label>
            </div>
        </div>
        <div class="form-row">
          <div class="col">
            <label>Fecha de Nacimiento: <span class="text-danger">*</span>
                <div class="input-group">
                  <input type="text" id="msa-fechaNacimiento" ngbDatepicker format="dd/mm/yyyy" #d="ngbDatepicker" formControlName="FechaNacimiento" class="form-control" (focus)="d.open()">
                  <div class="input-group-append">
                    <button type="button" class="btn btn-outline-secondary calendar" (click)="d.toggle()"></button>
                  </div>
                </div>
                <div class="text-danger" *ngIf="!independientesForm.get('FechaNacimiento').valid && independientesForm.get('FechaNacimiento').touched">
                  Este campo es requerido.
                </div>
            </label>
          </div>
          <div class="col">
            <label>Sexo: <span class="text-danger">*</span>
                <select id="msa-sexo" formControlName="Sexo" class="form-control">
                  <option value="">Seleccione...</option>
                  <option value="{{ sexo.IdDatoMaestro }}" *ngFor="let sexo of sexos$ | async">{{ sexo.NombreDato }}</option>
                </select>
                <div class="text-danger" *ngIf="!independientesForm.get('Sexo').valid && independientesForm.get('Sexo').touched">
                  Este campo es requerido.
                </div>
            </label>
          </div>
        </div>
      </div>
      <hr>
      <div class="form-group"><!-- Datos Laborales -->
        <h5>Datos laborales:</h5>
        <div class="form-row">
            <div class="col">
              <label>Oficio / Labor: <span class="text-danger">*</span>
                  <input type="text" id="msa-oficio" formControlName="Oficio" class="form-control">
                  <div class="text-danger" *ngIf="!independientesForm.get('Oficio').valid && independientesForm.get('Oficio').touched">
                    Este campo es requerido.
                  </div>
              </label>
            </div>
            <div class="col">
                <label>Ingresos Mensuales Aproximados: <span class="text-danger">*</span>
                    <input type="text" id="msa-ingresosMensualesAproximados" formControlName="IngresosMensualesAproximados" class="form-control">
                    <div class="text-danger" *ngIf="!independientesForm.get('IngresosMensualesAproximados').valid && independientesForm.get('IngresosMensualesAproximados').touched">
                      Este campo es requerido.
                    </div>
                </label>
            </div>
        </div>
      </div>
      <hr>
      <div class="form-group"><!-- Datos de contacto -->
        <h5>Datos de contacto</h5>
        <div class="form-row">
          <div class="col">
            <label for="msa-tipo-telefono">Telefono:</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <label>Tipo <span class="text-danger">*</span>
                    <select type="text" id="msa-tipo-telefono" formControlName="TipoTelefono" class="form-control w-100">
                      <option value="">Elige...</option>
                      <option value="{{tipoTelefono.IdDatoMaestro}}" *ngFor="let tipoTelefono of tiposTelefono$ | async">{{ tipoTelefono.NombreDato }}</option>
                    </select>
                    <div class="text-danger" *ngIf="!independientesForm.get('TipoTelefono').valid && independientesForm.get('TipoTelefono').touched">
                      Este campo es requerido.
                    </div>
                </label>
              </div>
              <label>Numero: <span class="text-danger">*</span>
                  <input type="text" id="msa-telefono" formControlName="Telefono" class="form-control w-100">
                  <div class="text-danger" *ngIf="!independientesForm.get('Telefono').valid && independientesForm.get('Telefono').touched">
                    Este campo es requerido.
                  </div>
              </label>
            </div>
          </div>
          <div class="col align-bottom">
            <label>Correo electronico: <span class="text-danger">*</span>
                <input type="text" id="msa-correo" formControlName="Correo" class="form-control">
                <div class="text-danger" *ngIf="!independientesForm.get('Correo').valid && independientesForm.get('Correo').touched">
                  Este campo es requerido.
                </div>
            </label>
          </div>
        </div>
        <div class="form-row" *ngIf="!enModal">
          <div class="col text-right">
            <button type="submit" id="msa-guardar-independiente" class="btn btn-primary" [disabled]="independientesForm.invalid">Guadar</button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<app-toast tipo="exito" [mostrar]="mostrarAviso" tiempoActivo="5000"></app-toast>
